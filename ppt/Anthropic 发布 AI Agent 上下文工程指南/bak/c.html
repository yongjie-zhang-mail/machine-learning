<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第 1 页 PPT：上下文工程核心解析</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <style>
        .slide { display: none; }
        .slide.active { display: block; }
        .slide-transition { transition: all 0.5s ease; }
        .nav-btn { z-index: 100; }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">
    <!-- 幻灯片容器 -->
    <div class="relative w-[min(1280px,100vw)] h-[min(720px,100vh)] bg-white rounded-2xl shadow-xl overflow-hidden">
        <!-- 第1页：封面 -->
        <div class="slide active flex flex-col items-center justify-center p-8 text-center slide-transition">
            <div class="bg-blue-500 text-white w-24 h-24 rounded-full flex items-center justify-center mb-6">
                <i class="fa fa-brain text-5xl"></i>
            </div>
            <h1 class="text-5xl font-bold text-gray-800 mb-4">上下文工程核心解析</h1>
            <p class="text-2xl text-gray-600 mb-8">Context Engineering for AI Agents</p>
            <div class="flex items-center text-gray-500 space-x-4">
                <span><i class="fa fa-file-text-o mr-2"></i>基于Anthropic官方博客</span>
                <span><i class="fa fa-link mr-2"></i>Claude Sonnet 4.5 配套指南</span>
            </div>
        </div>

        <!-- 第2页：概念起源与行业呼应 -->
        <div class="slide p-8 slide-transition">
            <div class="flex items-center mb-6">
                <div class="bg-teal-500 text-white w-12 h-12 rounded-lg flex items-center justify-center mr-4">
                    <i class="fa fa-history text-2xl"></i>
                </div>
                <h2 class="text-3xl font-bold text-gray-800">概念起源与行业呼应</h2>
            </div>
            <div class="grid md:grid-cols-2 gap-8 mt-8">
                <div class="bg-gray-50 rounded-xl p-6 border border-gray-200">
                    <h3 class="text-xl font-semibold text-teal-600 mb-4">📅 概念提出（2024.6）</h3>
                    <p class="text-gray-700 leading-relaxed">
                        Andrej Karpathy 带火“<span class="font-bold text-teal-700">上下文工程</span>”（Context Engineering），主张用其取代传统的“<span class="text-gray-500">提示词工程</span>”（Prompt Engineering），重新定义LLM应用核心。
                    </p>
                </div>
                <div class="bg-gray-50 rounded-xl p-6 border border-gray-200">
                    <h3 class="text-xl font-semibold text-blue-600 mb-4">🔄 Anthropic的响应</h3>
                    <p class="text-gray-700 leading-relaxed">
                        Claude Sonnet 4.5 发布次日，Anthropic 发布博客《AI智能体的高效上下文设计》，明确指出：<br>
                        <span class="font-bold text-blue-700 mt-2 block">“工业级LLM应用的真正关键是上下文工程”</span>
                    </p>
                    <a href="https://www.anthropic.com/engineering/effective-context-engineering-for-ai-agents" target="_blank" class="text-blue-500 mt-3 inline-block"><i class="fa fa-external-link mr-1"></i>查看博客原文</a>
                </div>
            </div>
            <div class="mt-8 bg-blue-50 rounded-xl p-6 border-l-4 border-blue-500">
                <p class="text-gray-700 font-medium">
                    <i class="fa fa-lightbulb-o text-blue-500 mr-2"></i>核心转变：AI应用构建重心从“寻找合适提示词”转向“优化上下文配置，引导模型行为”
                </p>
            </div>
        </div>

        <!-- 第3页：上下文工程 vs 提示词工程 -->
        <div class="slide p-8 slide-transition">
            <div class="flex items-center mb-6">
                <div class="bg-purple-500 text-white w-12 h-12 rounded-lg flex items-center justify-center mr-4">
                    <i class="fa fa-balance-scale text-2xl"></i>
                </div>
                <h2 class="text-3xl font-bold text-gray-800">核心区别：上下文工程 vs 提示词工程</h2>
            </div>
            <p class="text-gray-600 mb-6">两者是“演进关系”，关键差异体现在3大维度：</p>
            <div class="overflow-x-auto">
                <table class="w-full border-collapse bg-white rounded-xl shadow-sm">
                    <thead>
                        <tr class="bg-purple-100 text-purple-800">
                            <th class="p-4 text-left border-b-2 border-purple-200 w-1/4">对比维度</th>
                            <th class="p-4 text-left border-b-2 border-purple-200 w-3/8">提示词工程（Prompt Engineering）</th>
                            <th class="p-4 text-left border-b-2 border-purple-200 w-3/8">上下文工程（Context Engineering）</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="hover:bg-gray-50">
                            <td class="p-4 border-b border-gray-200 font-semibold">核心关注</td>
                            <td class="p-4 border-b border-gray-200">编写/组织LLM指令（尤其系统提示词）</td>
                            <td class="p-4 border-b border-gray-200">策划/维护“最优token集合”（覆盖所有相关信息）</td>
                        </tr>
                        <tr class="hover:bg-gray-50">
                            <td class="p-4 border-b border-gray-200 font-semibold">管理范围</td>
                            <td class="p-4 border-b border-gray-200">仅聚焦“提示词本身” 📝</td>
                            <td class="p-4 border-b border-gray-200">系统指令+工具+外部数据+消息历史+MCP 📦</td>
                        </tr>
                        <tr class="hover:bg-gray-50">
                            <td class="p-4 border-b border-gray-200 font-semibold">适用场景</td>
                            <td class="p-4 border-b border-gray-200">单次分类、文本生成等简单任务 🚶</td>
                            <td class="p-4 border-b border-gray-200">多轮推理、长时间跨度的复杂智能体任务 🚀</td>
                        </tr>
                        <tr class="hover:bg-gray-50">
                            <td class="p-4 font-semibold">核心思维</td>
                            <td class="p-4">“指令优化思维”</td>
                            <td class="p-4">“整体状态思维”（预判LLM行为）</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="mt-6 bg-purple-50 rounded-lg p-4 text-center text-purple-800 font-medium">
                <i class="fa fa-arrow-right mr-2"></i>上下文工程是提示词工程的“自然演进”，更适配复杂智能体需求
            </div>
        </div>

        <!-- 第4页：为何上下文工程如此重要 -->
        <div class="slide p-8 slide-transition">
            <div class="flex items-center mb-6">
                <div class="bg-orange-500 text-white w-12 h-12 rounded-lg flex items-center justify-center mr-4">
                    <i class="fa fa-exclamation-triangle text-2xl"></i>
                </div>
                <h2 class="text-3xl font-bold text-gray-800">为何上下文工程至关重要？</h2>
            </div>
            <div class="grid md:grid-cols-2 gap-8">
                <div>
                    <h3 class="text-xl font-semibold text-orange-600 mb-4">⚠️ 核心问题：LLM的“注意力局限”</h3>
                    <ul class="space-y-4 text-gray-700">
                        <li class="flex items-start">
                            <i class="fa fa-caret-right text-orange-500 mt-1 mr-2"></i>
                            <span><strong>上下文衰减</strong>：随token数量增加，模型提取信息能力逐渐下降（“大海捞针”效应）</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fa fa-caret-right text-orange-500 mt-1 mr-2"></i>
                            <span><strong>注意力预算有限</strong>：类似人类工作记忆，每个token都会消耗预算，需精准筛选</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fa fa-caret-right text-orange-500 mt-1 mr-2"></i>
                            <span><strong>架构限制</strong>：Transformer架构下，token关系为n²量级，长度与注意力成“天然权衡”</span>
                        </li>
                    </ul>
                </div>
                <div class="bg-gray-50 rounded-xl p-6 border border-gray-200">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">📊 性能衰减示意图</h3>
                    <div class="flex flex-col items-center">
                        <div class="w-full h-40 bg-gradient-to-r from-green-400 to-red-400 rounded-lg mb-4 relative">
                            <div class="absolute top-0 left-0 w-full h-full flex items-center justify-center text-white font-bold">
                                上下文长度 → 增加
                            </div>
                            <div class="absolute bottom-0 left-0 w-full h-2 bg-gray-800 rounded-b-lg"></div>
                            <div class="absolute top-0 left-0 w-2 h-full bg-gray-800 rounded-l-lg"></div>
                        </div>
                        <p class="text-gray-600 text-center">
                            模型性能呈<strong class="text-orange-600">渐进式下降</strong>（非断崖式），长上下文场景中信息检索、长距离推理准确度降低
                        </p>
                    </div>
                </div>
            </div>
            <div class="mt-8 bg-orange-50 rounded-xl p-5 border-l-4 border-orange-500">
                <p class="text-gray-700 font-medium">
                    <i class="fa fa-key text-orange-500 mr-2"></i>结论：只有通过上下文工程，才能在LLM的注意力局限下，最大化模型性能，构建强大智能体
                </p>
            </div>
        </div>

        <!-- 第5页：高效上下文构建策略 -->
        <div class="slide p-8 slide-transition">
            <div class="flex items-center mb-6">
                <div class="bg-green-500 text-white w-12 h-12 rounded-lg flex items-center justify-center mr-4">
                    <i class="fa fa-cogs text-2xl"></i>
                </div>
                <h2 class="text-3xl font-bold text-gray-800">高效上下文构建策略</h2>
            </div>
            <p class="text-gray-600 mb-6">核心原则：<strong class="text-green-600">用最少的高信息量token，最大化期望结果概率</strong></p>
            <div class="grid md:grid-cols-3 gap-6">
                <!-- 系统提示词 -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                    <div class="bg-green-100 p-4">
                        <h3 class="text-lg font-semibold text-green-800 flex items-center">
                            <i class="fa fa-file-text-o text-green-600 mr-2"></i>系统提示词设计
                        </h3>
                    </div>
                    <div class="p-5">
                        <ul class="space-y-3 text-gray-700 text-sm">
                            <li class="flex items-start">
                                <i class="fa fa-check-circle text-green-500 mt-0.5 mr-2"></i>
                                <span>处于“硬编码逻辑”与“模糊指导”之间的“黄金区间”</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fa fa-check-circle text-green-500 mt-0.5 mr-2"></i>
                                <span>用XML/Markdown拆分模块（如&lt;background_information&gt;）</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fa fa-check-circle text-green-500 mt-0.5 mr-2"></i>
                                <span>从“最小提示”测试，逐步补充指令</span>
                            </li>
                        </ul>
                    </div>
                </div>
                <!-- 工具设计 -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                    <div class="bg-green-100 p-4">
                        <h3 class="text-lg font-semibold text-green-800 flex items-center">
                            <i class="fa fa-wrench text-green-600 mr-2"></i>工具设计
                        </h3>
                    </div>
                    <div class="p-5">
                        <ul class="space-y-3 text-gray-700 text-sm">
                            <li class="flex items-start">
                                <i class="fa fa-check-circle text-green-500 mt-0.5 mr-2"></i>
                                <span>token高效、功能清晰、低重叠（类似优质代码函数）</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fa fa-check-circle text-green-500 mt-0.5 mr-2"></i>
                                <span>输入参数描述明确，抗错误能力强</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fa fa-times-circle text-red-500 mt-0.5 mr-2"></i>
                                <span>避免工具集庞杂（人类难选，AI更难用）</span>
                            </li>
                        </ul>
                    </div>
                </div>
                <!-- 示例设计 -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                    <div class="bg-green-100 p-4">
                        <h3 class="text-lg font-semibold text-green-800 flex items-center">
                            <i class="fa fa-list-alt text-green-600 mr-2"></i>示例（少样本提示）设计
                        </h3>
                    </div>
                    <div class="p-5">
                        <ul class="space-y-3 text-gray-700 text-sm">
                            <li class="flex items-start">
                                <i class="fa fa-check-circle text-green-500 mt-0.5 mr-2"></i>
                                <span>精选“多样化、规范性”示例（示例=“一图胜千言”）</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fa fa-times-circle text-red-500 mt-0.5 mr-2"></i>
                                <span>拒绝堆砌边缘案例（冗余且低效）</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fa fa-check-circle text-green-500 mt-0.5 mr-2"></i>
                                <span>用示例直观传递预期行为，比文字规则更有效</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- 第6页：上下文检索与混合策略 -->
        <div class="slide p-8 slide-transition">
            <div class="flex items-center mb-6">
                <div class="bg-sky-500 text-white w-12 h-12 rounded-lg flex items-center justify-center mr-4">
                    <i class="fa fa-search text-2xl"></i>
                </div>
                <h2 class="text-3xl font-bold text-gray-800">上下文检索与智能体搜索</h2>
            </div>
            <div class="mb-8">
                <h3 class="text-xl font-semibold text-sky-600 mb-3">🔍 智能体定义：LLM在循环中自主使用工具</h3>
                <p class="text-gray-700">随模型能力提升，智能体自主水平增强，上下文检索策略从“预加载”转向“即时+混合”模式</p>
            </div>
            <div class="grid md:grid-cols-2 gap-8 mb-8">
                <div class="bg-sky-50 rounded-xl p-6 border border-sky-100">
                    <h4 class="font-semibold text-sky-800 mb-3 flex items-center">
                        <i class="fa fa-clock-o text-sky-500 mr-2"></i>即时检索策略
                    </h4>
                    <p class="text-gray-700 text-sm mb-3">
                        智能体保留轻量级标识符（文件路径、链接等），运行时动态加载所需数据（不加载完整对象）
                    </p>
                    <div class="bg-white p-3 rounded-lg text-xs text-gray-600">
                        <p class="font-medium text-sky-700">示例（Claude Code）：</p>
                        <p>用 <code class="bg-gray-100 px-1 py-0.5 rounded">head/tail</code> 命令分析数据，用 <code class="bg-gray-100 px-1 py-0.5 rounded">grep</code> 检索关键信息</p>
                    </div>
                    <p class="text-gray-600 text-sm mt-3">优势：模拟人类“按需查资料”，节省token，避免索引过时</p>
                </div>
                <div class="bg-indigo-50 rounded-xl p-6 border border-indigo-100">
                    <h4 class="font-semibold text-indigo-800 mb-3 flex items-center">
                        <i class="fa fa-random text-indigo-500 mr-2"></i>混合检索策略
                    </h4>
                    <p class="text-gray-700 text-sm mb-3">
                        预加载核心数据（提升响应速度）+ 运行时自主探索（保证信息新鲜）
                    </p>
                    <div class="bg-white p-3 rounded-lg text-xs text-gray-600">
                        <p class="font-medium text-indigo-700">示例（Claude Code）：</p>
                        <p>预加载 <code class="bg-gray-100 px-1 py-0.5 rounded">CLAUDE.md</code> + 自主用 <code class="bg-gray-100 px-1 py-0.5 rounded">glob</code> 探索文件系统</p>
                    </div>
                    <p class="text-gray-600 text-sm mt-3">适用场景：法律、金融等动态内容少的领域</p>
                </div>
            </div>
            <div class="bg-gray-50 rounded-xl p-5 border border-gray-200">
                <h4 class="font-semibold text-gray-800 mb-2">✅ 渐进式披露优势</h4>
                <p class="text-gray-700 text-sm">智能体通过探索逐步积累理解：文件大小→复杂度，命名→用途，时间戳→相关性，聚焦关键信息，避免冗余</p>
            </div>
        </div>

        <!-- 第7页：长期任务的上下文技术 -->
        <div class="slide p-8 slide-transition">
            <div class="flex items-center mb-6">
                <div class="bg-rose-500 text-white w-12 h-12 rounded-lg flex items-center justify-center mr-4">
                    <i class="fa fa-tasks text-2xl"></i>
                </div>
                <h2 class="text-3xl font-bold text-gray-800">长期任务的上下文突破技术</h2>
            </div>
            <p class="text-gray-600 mb-6">针对token超上下文窗口的任务（如代码库迁移、研究项目），3大技术解决限制：</p>
            <div class="grid md:grid-cols-3 gap-6">
                <!-- 压缩 -->
                <div class="bg-white rounded-xl shadow-sm border border-rose-100 overflow-hidden">
                    <div class="bg-rose-100 p-4">
                        <h3 class="text-lg font-semibold text-rose-800 flex items-center">
                            <i class="fa fa-compress text-rose-600 mr-2"></i>压缩技术
                        </h3>
                    </div>
                    <div class="p-5">
                        <p class="text-gray-700 text-sm mb-3">
                            将接近窗口限制的对话总结，用摘要重启新窗口，保留关键信息（架构决策、错误），丢弃冗余（工具输出）
                        </p>
                        <div class="bg-rose-50 p-2 rounded text-xs text-rose-700 font-medium">
                            关键：平衡“精简”与“保真”，避免丢失关键细节
                        </div>
                    </div>
                </div>
                <!-- 结构化笔记 -->
                <div class="bg-white rounded-xl shadow-sm border border-rose-100 overflow-hidden">
                    <div class="bg-rose-100 p-4">
                        <h3 class="text-lg font-semibold text-rose-800 flex items-center">
                            <i class="fa fa-sticky-note text-rose-600 mr-2"></i>结构化笔记
                        </h3>
                    </div>
                    <div class="p-5">
                        <p class="text-gray-700 text-sm mb-3">
                            智能体将进度、依赖等信息记录在窗口外的持久化存储（如NOTES.md），重置后读取恢复连贯性
                        </p>
                        <div class="bg-rose-50 p-2 rounded text-xs text-rose-700 font-medium">
                            示例：Claude玩宝可梦时记录训练进度、地图探索
                        </div>
                    </div>
                </div>
                <!-- 子智能体架构 -->
                <div class="bg-white rounded-xl shadow-sm border border-rose-100 overflow-hidden">
                    <div class="bg-rose-100 p-4">
                        <h3 class="text-lg font-semibold text-rose-800 flex items-center">
                            <i class="fa fa-users text-rose-600 mr-2"></i>子智能体架构
                        </h3>
                    </div>
                    <div class="p-5">
                        <p class="text-gray-700 text-sm mb-3">
                            主智能体统筹计划，子智能体专注具体任务（独立上下文），仅返回1000-2000token精炼结果
                        </p>
                        <div class="bg-rose-50 p-2 rounded text-xs text-rose-700 font-medium">
                            优势：关注点分离，提升复杂任务效率
                        </div>
                    </div>
                </div>
            </div>
            <div class="mt-6 bg-gray-50 rounded-lg p-4 text-center text-gray-700">
                <p>选择依据：<span class="font-medium">压缩→频繁交互</span> | <span class="font-medium">笔记→迭代开发</span> | <span class="font-medium">子智能体→复杂研究</span></p>
            </div>
        </div>

        <!-- 第8页：结论 -->
        <div class="slide p-8 slide-transition">
            <div class="flex items-center mb-6">
                <div class="bg-gray-800 text-white w-12 h-12 rounded-lg flex items-center justify-center mr-4">
                    <i class="fa fa-flag-checkered text-2xl"></i>
                </div>
                <h2 class="text-3xl font-bold text-gray-800">核心结论</h2>
            </div>
            <div class="flex flex-col items-center justify-center h-[calc(100%-8rem)] text-center">
                <div class="bg-blue-500 text-white w-20 h-20 rounded-full flex items-center justify-center mb-8">
                    <i class="fa fa-star text-4xl"></i>
                </div>
                <p class="text-2xl font-semibold text-gray-800 mb-6 leading-relaxed">
                    上下文工程是LLM应用构建的“范式升级”
                </p>
                <div class="max-w-3xl bg-gray-50 rounded-xl p-6 border border-gray-200">
                    <ul class="space-y-4 text-gray-700 text-left">
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-blue-500 mt-1 mr-3 text-lg"></i>
                            <span>核心原则不变：找到“最小高信号token集”，最大化期望结果概率</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-blue-500 mt-1 mr-3 text-lg"></i>
                            <span>未来趋势：模型更自主，减少人类策划，但“上下文是有限宝贵资源”的认知永不过时</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-blue-500 mt-1 mr-3 text-lg"></i>
                            <span>关键价值：解决LLM注意力局限，支撑复杂智能体在长期任务中保持连贯性与目标导向</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- 导航按钮 -->
        <button id="prevBtn" class="nav-btn absolute left-4 top-1/2 -translate-y-1/2 bg-gray-800 text-white w-10 h-10 rounded-full flex items-center justify-center opacity-70 hover:opacity-100">
            <i class="fa fa-chevron-left"></i>
        </button>
        <button id="nextBtn" class="nav-btn absolute right-4 top-1/2 -translate-y-1/2 bg-gray-800 text-white w-10 h-10 rounded-full flex items-center justify-center opacity-70 hover:opacity-100">
            <i class="fa fa-chevron-right"></i>
        </button>
        <!-- 页码指示器 -->
        <div class="absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2">
            <span class="page-dot w-2 h-2 rounded-full bg-blue-500"></span>
            <span class="page-dot w-2 h-2 rounded-full bg-gray-300"></span>
            <span class="page-dot w-2 h-2 rounded-full bg-gray-300"></span>
            <span class="page-dot w-2 h-2 rounded-full bg-gray-300"></span>
            <span class="page-dot w-2 h-2 rounded-full bg-gray-300"></span>
            <span class="page-dot w-2 h-2 rounded-full bg-gray-300"></span>
            <span class="page-dot w-2 h-2 rounded-full bg-gray-300"></span>
            <span class="page-dot w-2 h-2 rounded-full bg-gray-300"></span>
        </div>
    </div>

    <script>
        // 幻灯片控制逻辑
        const slides = document.querySelectorAll('.slide');
        const dots = document.querySelectorAll('.page-dot');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        let currentIndex = 0;

        // 更新幻灯片显示
        function updateSlide() {
            slides.forEach((slide, index) => {
                slide.classList.toggle('active', index === currentIndex);
            });
            dots.forEach((dot, index) => {
                dot.classList.toggle('bg-blue-500', index === currentIndex);
                dot.classList.toggle('bg-gray-300', index !== currentIndex);
            });
            // 更新页面标题
            document.title = `第 ${currentIndex + 1} 页 PPT：${slides[currentIndex].querySelector('h2')?.textContent || '上下文工程核心解析'}`;
        }

        // 下一页
        function nextSlide() {
            currentIndex = (currentIndex + 1) % slides.length;
            updateSlide();
        }

        // 上一页
        function prevSlide() {
            currentIndex = (currentIndex - 1 + slides.length) % slides.length;
            updateSlide();
        }

        // 绑定按钮事件
        nextBtn.addEventListener('click', nextSlide);
        prevBtn.addEventListener('click', prevSlide);

        // 绑定键盘事件
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') nextSlide();
            if (e.key === 'ArrowLeft') prevSlide();
        });

        // 绑定页码点事件
        dots.forEach((dot, index) => {
            dot.addEventListener('click', () => {
                currentIndex = index;
                updateSlide();
            });
        });

        // 初始加载
        updateSlide();
    </script>
</body>
</html>